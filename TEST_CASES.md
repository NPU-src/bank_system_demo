# 测试用例文档

## 系统功能测试

### 1. 开户测试
**步骤：**
1. 启动服务器（任一语义模式）
2. 启动客户端
3. 选择操作 1（开户）
4. 输入姓名、密码、货币类型、初始余额

**预期结果：**
- 系统返回成功消息和新生成的账号

### 2. 存款测试
**步骤：**
1. 先开户获得账号
2. 选择操作 2（存款）
3. 输入账号、密码、存款金额

**预期结果：**
- 系统返回成功消息和更新后的余额

### 3. 取款测试
**步骤：**
1. 确保账户有足够余额
2. 选择操作 3（取款）
3. 输入账号、密码、取款金额

**预期结果：**
- 系统返回成功消息和更新后的余额

### 4. 查询余额测试（幂等操作）
**步骤：**
1. 有有效账号
2. 选择操作 5（查询余额）
3. 输入账号、密码

**预期结果：**
- 系统返回当前余额信息
- 多次执行结果一致（幂等性）

### 5. 转账测试（非幂等操作）
**步骤：**
1. 有两个有效账号，源账号有足够余额
2. 选择操作 7（转账）
3. 输入源账号、密码、目标账号、转账金额

**预期结果：**
- 系统返回转账成功消息
- 多次执行会产生不同结果（非幂等性）

### 6. 销户测试
**步骤：**
1. 有有效账号
2. 选择操作 6（销户）
3. 输入账号、姓名、密码

**预期结果：**
- 系统返回销户成功消息

### 7. 监控更新测试
**步骤：**
1. 在一个客户端注册监控
2. 在另一个客户端执行账户操作
3. 观察第一个客户端是否收到更新通知

**预期结果：**
- 注册监控的客户端应收到所有账户变更通知

## 调用语义测试

### At-Most-Once 语义测试
**步骤：**
1. 启动At-Most-Once模式服务器
2. 客户端发送请求
3. 故意制造网络问题导致客户端重发相同请求
4. 观察服务器行为

**预期结果：**
- 重复请求被识别并返回缓存结果
- 不会产生重复操作

### At-Least-Once 语义测试
**步骤：**
1. 启动At-Least-Once模式服务器（使用ALO参数）
2. 客户端发送请求
3. 模拟网络超时情况

**预期结果：**
- 客户端会自动重传请求直到收到响应

## 异常处理测试

### 无效操作测试
**步骤：**
1. 发送无效操作码

**预期结果：**
- 服务器返回错误消息

### 无效凭据测试
**步骤：**
1. 尝试使用错误密码访问账户

**预期结果：**
- 系统返回验证失败消息

### 余额不足测试
**步骤：**
1. 尝试取款超过余额的金额

**预期结果：**
- 系统返回余额不足消息